#
# This Makefile was automatically generated by a script.
#
.PHONY: compile sim yosys visualize clean 

TEST_DESIGN = JC_counter

OSS_CAD_SUITE_PATH = C:\Users\13862\oss-cad-suite

compile: 
	iverilog -g2012 -Wall -o simv $(TEST_DESIGN).v testbench.v

sim: compile
	vvp simv > run.log

yosys: sim
	@call $(OSS_CAD_SUITE_PATH)\environment.bat && yosys -p "read_verilog $(TEST_DESIGN).v; synth; write_json $(TEST_DESIGN).json"

visualize: yosys
	netlistsvg $(TEST_DESIGN).json -o $(TEST_DESIGN).svg

clean:
	del /Q simv.* run.log *.vcd *.json *.svg 2>nul || true
